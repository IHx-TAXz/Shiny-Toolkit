{% extends "base.html" %}
{% block title %}Shiny Portal Documentation{% endblock %}

{% block content %}

<link rel="stylesheet" href="{{ url_for('static', filename='css/documentation.css') }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<div class="documentation-page">
    <div class="doc-header">
        <h1><i class="fas fa-book"></i> Shiny Portal Documentation</h1>
        <p class="doc-subtitle">Complete guide to using all features of Shiny Portal</p>
    </div>

    <div class="doc-container">
        <nav class="doc-sidebar">
            <div class="sidebar-section">
                <h3>Getting Started</h3>
                <ul>
                    <li><a href="#installation" class="doc-nav-link">Installation</a></li>
                    <li><a href="#quick-start" class="doc-nav-link">Quick Start</a></li>
                    <li><a href="#features" class="doc-nav-link">Features Overview</a></li>
                </ul>
            </div>

            <div class="sidebar-section">
                <h3>Core Features</h3>
                <ul>
                    <li><a href="#http-client" class="doc-nav-link">HTTP Client</a></li>
                    <li><a href="#encoder-decoder" class="doc-nav-link">Encoder/Decoder</a></li>
                    <li><a href="#data-generator" class="doc-nav-link">Data Generator</a></li>
                    <li><a href="#qr-generator" class="doc-nav-link">QR Generator</a></li>
                    <li><a href="#json-analyzer" class="doc-nav-link">JSON Analyzer</a></li>
                    <li><a href="#history" class="doc-nav-link">Request History</a></li>
                </ul>
            </div>

            <div class="sidebar-section">
                <h3>Advanced</h3>
                <ul>
                    <li><a href="#jwt-tokens" class="doc-nav-link">JWT Tokens</a></li>
                    <li><a href="#api-testing" class="doc-nav-link">API Testing</a></li>
                    <li><a href="#troubleshooting" class="doc-nav-link">Troubleshooting</a></li>
                </ul>
            </div>
        </nav>

        <main class="doc-content">

            <!-- Installation -->
            <section id="installation" class="doc-section">
                <h2><i class="fas fa-download"></i> Installation</h2>
                <div class="doc-card">
                    <h3>Prerequisites</h3>
                    <ul>
                        <li><strong>Python 3.8 or higher</strong></li>
                        <li><strong>pip</strong> (Python package manager)</li>
                        <li>Modern web browser</li>
                    </ul>

                    <h3>Step-by-Step Installation</h3>
                    <div class="code-block">
                        <pre><code class="language-bash">
git clone https://github.com/IHx-TAXZ/Shiny-Toolkit.git
cd Shiny-Toolkit

pip install -r requirements.txt
python app.py

# Open: http://localhost:5000
                        </code></pre>
                    </div>
                </div>
            </section>

            <!-- Quick Start -->
            <section id="quick-start" class="doc-section">
                <h2><i class="fas fa-rocket"></i> Quick Start</h2>
                <div class="doc-card">
                    <h3>Your First API Test</h3>
                    <ol>
                        <li>Open Shiny Portal in your browser</li>
                        <li>Go to the <strong>HTTP Client</strong> tab</li>
                        <li>Set method to <code>GET</code></li>
                        <li>Enter URL: <code>https://httpbin.org/json</code></li>
                        <li>Click <strong>Send Request</strong></li>
                    </ol>

                    <div class="tip-box">
                        <i class="fas fa-lightbulb"></i>
                        <strong>Pro Tip:</strong> Use httpbin.org for testing API endpoints.
                    </div>
                </div>
            </section>

            <!-- Features Overview -->
            <section id="features" class="doc-section">
                <h2><i class="fas fa-star"></i> Features Overview</h2>

                <div class="features-grid">
                    <div class="feature-card">
                        <i class="fas fa-globe"></i>
                        <h4>HTTP Client</h4>
                        <p>Test REST APIs easily</p>
                    </div>

                    <div class="feature-card">
                        <i class="fas fa-code"></i>
                        <h4>Encoder/Decoder</h4>
                        <p>URL, Base64, hash functions</p>
                    </div>

                    <div class="feature-card">
                        <i class="fas fa-magic"></i>
                        <h4>Data Generator</h4>
                        <p>Passwords, API keys, JWT tokens</p>
                    </div>

                    <div class="feature-card">
                        <i class="fas fa-qrcode"></i>
                        <h4>QR Generator</h4>
                        <p>Create instant QR codes</p>
                    </div>

                    <div class="feature-card">
                        <i class="fas fa-search"></i>
                        <h4>JSON Analyzer</h4>
                        <p>Validate and inspect JSON</p>
                    </div>

                    <div class="feature-card">
                        <i class="fas fa-history"></i>
                        <h4>Request History</h4>
                        <p>Track past requests</p>
                    </div>
                </div>
            </section>

            <!-- HTTP Client -->
            <section id="http-client" class="doc-section">
                <h2><i class="fas fa-globe"></i> HTTP Client</h2>

                <div class="doc-card">
                    <h3>Making API Requests</h3>

                    <h4>Basic GET Request</h4>
                    <div class="code-block">
                        <pre><code class="language-http">
GET https://httpbin.org/json
Headers: {"Accept": "application/json"}
                        </code></pre>
                    </div>

                    <h4>POST Request with JSON Body</h4>
                    <div class="code-block">
                        <pre><code class="language-http">
POST https://httpbin.org/post
Headers: {
  "Content-Type": "application/json"
}
Body: {"name": "John Doe"}
                        </code></pre>
                    </div>
                </div>
            </section>

            <!-- Encoder Decoder -->
            <section id="encoder-decoder" class="doc-section">
                <h2><i class="fas fa-code"></i> Encoder/Decoder</h2>
                <div class="doc-card">
                    <h3>Encoding and Hashing Operations</h3>
                    <ul>
                        <li><strong>URL Encoding</strong></li>
                        <li><strong>Base64</strong> encode/decode</li>
                        <li><strong>Hashing</strong>: MD5, SHA-256, SHA-512</li>
                    </ul>
                </div>
            </section>

            <!-- Data Generator -->
            <section id="data-generator" class="doc-section">
                <h2><i class="fas fa-magic"></i> Data Generator</h2>
                <div class="doc-card">
                    <h3>Test Data Generation</h3>
                    <ul>
                        <li>Secure Password</li>
                        <li>API Key</li>
                        <li>JWT Token</li>
                        <li>Lorem Ipsum</li>
                    </ul>
                </div>
            </section>

            <!-- QR Generator -->
            <section id="qr-generator" class="doc-section">
                <h2><i class="fas fa-qrcode"></i> QR Generator</h2>
                <div class="doc-card">
                    <p>Generate QR codes instantly from any text or URL.</p>
                </div>
            </section>

            <!-- JSON Analyzer -->
            <section id="json-analyzer" class="doc-section">
                <h2><i class="fas fa-search"></i> JSON Analyzer</h2>
                <div class="doc-card">
                    <ol>
                        <li>Validate JSON format</li>
                        <li>Inspect structure & types</li>
                    </ol>
                </div>
            </section>

            <!-- History -->
            <section id="history" class="doc-section">
                <h2><i class="fas fa-history"></i> Request History</h2>
                <div class="doc-card">
                    <ul>
                        <li>Recent Requests</li>
                        <li>Saved Requests</li>
                    </ul>
                </div>
            </section>

            <!-- JWT -->
            <section id="jwt-tokens" class="doc-section">
                <h2><i class="fas fa-key"></i> JWT Tokens</h2>

                <div class="doc-card">
                    <h3>Generate JWT Tokens</h3>

                    <h4>Example Token</h4>
                    <div class="code-block">
                        <pre><code class="language-jwt">
eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9...
                        </code></pre>
                    </div>
                </div>
            </section>

            <!-- API Testing -->
            <section id="api-testing" class="doc-section">
                <h2><i class="fas fa-vial"></i> API Testing Best Practices</h2>
                <div class="doc-card">
                    <h3>Testing Strategies</h3>
                    <ul>
                        <li>Start with GET</li>
                        <li>Test invalid inputs</li>
                        <li>Use realistic data</li>
                        <li>Save important requests</li>
                    </ul>

                    <div class="warning-box">
                        <i class="fas fa-exclamation-triangle"></i>
                        Never test with production credentials!
                    </div>
                </div>
            </section>

            <!-- Troubleshooting -->
            <section id="troubleshooting" class="doc-section">
                <h2><i class="fas fa-wrench"></i> Troubleshooting</h2>
                <div class="doc-card">
                    <div class="troubleshoot-item">
                        <h4>❌ Connection Refused</h4>
                        <p>Check URL, server status, and network.</p>
                    </div>

                    <div class="troubleshoot-item">
                        <h4>❌ Unauthorized (401)</h4>
                        <p>Check your Authorization token.</p>
                    </div>

                    <div class="troubleshoot-item">
                        <h4>❌ JSON Errors</h4>
                        <p>Validate JSON using the analyzer.</p>
                    </div>

                    <div class="support-box">
                        <h4><i class="fas fa-life-ring"></i> Need More Help?</h4>
                        <p>
                            <a href="{{ url_for('report_issue') }}">Report an issue</a>
                        </p>
                    </div>
                </div>
            </section>

        </main>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('.doc-nav-link').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (!target) return;

            const offset = target.getBoundingClientRect().top + window.pageYOffset - 95;
            window.scrollTo({ top: offset, behavior: "smooth" });
        });
    });
});
</script>

{% endblock %}